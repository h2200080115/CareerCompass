{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">AI Career Guidance Assistant</h5>
                    <div id="chat-messages" class="mb-4" style="height: 400px; overflow-y: auto;">
                        <div class="system-message">
                            Hello! I'm your AI Career Guidance Assistant. I can help you navigate career paths in
                            artificial intelligence, machine learning, and data science. Here are some questions you can
                            ask:
                            <div id="suggested-questions" class="mt-2"></div>
                        </div>
                    </div>

                    <form id="chat-form" class="d-flex gap-2">
                        <div class="flex-grow-1 position-relative">
                            <input type="text" id="user-input" class="form-control"
                                placeholder="Ask about AI careers..." required>
                            <div id="typing-indicator" class="position-absolute bottom-100 start-0 mb-2 d-none">
                                <small class="text-muted"><i class="fas fa-spinner fa-spin me-1"></i>AI is
                                    typing...</small>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .chat-message {
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 10px;
    }

    .user-message {
        background-color: var(--bs-primary);
        color: white;
        margin-left: 20%;
        text-align: right;
    }

    .assistant-message {
        background-color: var(--bs-dark);
        color: var(--bs-light);
        margin-right: 20%;
    }

    .system-message {
        background-color: var(--bs-secondary);
        color: var(--bs-light);
        margin-bottom: 20px;
        padding: 15px;
        border-radius: 10px;
    }

    #chat-messages {
        padding: 15px;
        scrollbar-width: thin;
        scrollbar-color: var(--bs-gray) var(--bs-dark);
    }

    #chat-messages::-webkit-scrollbar {
        width: 8px;
    }

    #chat-messages::-webkit-scrollbar-track {
        background: var(--bs-dark);
    }

    #chat-messages::-webkit-scrollbar-thumb {
        background-color: var(--bs-gray);
        border-radius: 4px;
    }

    .suggested-question {
        font-size: 0.85rem;
        cursor: pointer;
    }
</style>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}